{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-2">
  <h5>Lançamentos</h5>
  <form class="d-flex" method="get">
    <input class="form-control form-control-sm me-2" name="q" value="{{q}}" placeholder="Buscar descrição...">
    <button class="btn btn-sm btn-outline-secondary">Buscar</button>
  </form>
</div>
<div class="row g-3">
  <div class="col-md-8">
    <div class="table-responsive">
      <table class="table table-sm table-striped">
        <thead><tr><th>Data</th><th>Tipo</th><th>Cliente</th><th>Placa</th><th>Descrição</th><th>Categoria</th><th>Valor</th></tr></thead>
        <tbody>
        {% for l in items %}
          <tr>
            <td>{{ l.data }}</td><td>{{ l.tipo }}</td><td>{{ l.cliente }}</td><td>{{ l.placa }}</td><td>{{ l.descricao }}</td><td>{{ l.categoria }}</td><td>R$ {{ '%.2f'|format(l.valor or 0) }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card shadow-sm"><div class="card-body">
      <h6>Novo lançamento</h6>
      <form method="post">
        <input type="date" class="form-control form-control-sm mb-1" name="data">
        <select class="form-select form-select-sm mb-1" name="tipo">
          <option value="Receita">Receita</option>
          <option value="Despesa">Despesa</option>
        </select>
        <input class="form-control form-control-sm mb-1" name="cliente" placeholder="Cliente">
        <input class="form-control form-control-sm mb-1" name="cnpj" placeholder="CNPJ">
        <input class="form-control form-control-sm mb-1" name="veiculo" placeholder="Veículo">
        <input class="form-control form-control-sm mb-1" name="placa" placeholder="Placa">
        <input class="form-control form-control-sm mb-1" name="descricao" placeholder="Descrição">
        <input class="form-control form-control-sm mb-1" name="categoria" placeholder="Categoria">
        <input class="form-control form-control-sm mb-1" name="valor" placeholder="Valor (ex: 1234,56)">
        <input class="form-control form-control-sm mb-1" name="origem" placeholder="Origem">
        <input class="form-control form-control-sm mb-1" name="destino" placeholder="Destino">
        <input class="form-control form-control-sm mb-1" name="cidade_despesa" placeholder="Cidade da despesa">
        <button class="btn btn-primary btn-sm w-100">Salvar</button>
      </form>
    </div></div>
  </div>
</div>
{% endblock %}
